{"ast":null,"code":"import _slicedToArray from \"D:\\\\Ty\\xF6\\\\Vitec\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Ty\\xF6\\\\Vitec\\\\client\\\\src\\\\dynamictable\\\\dynamictable.js\";\n\nimport React, { useState, Fragment, Component } from \"react\";\nimport Select from 'react-select';\nimport \"./dynamictable.css\";\nimport schema from \"../template\";\nimport Axios from 'axios';\nvar schemaAsObject = JSON.parse(schema);\n\nvar deleteElement = function deleteElement(id) {\n  Axios.post(\"http://localhost:3001/deleteelement/\".concat(id), {\n    template: schemaAsObject\n  }).then(function (response) {\n    alert(response.data);\n  });\n};\n\nvar editElement = function editElement(id) {};\n\nvar DynamicTable = function DynamicTable(_ref) {\n  var sqlData = _ref.sqlData;\n  var columns = [];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      editElementID = _useState2[0],\n      setEditElementID = _useState2[1];\n\n  for (var i in schemaAsObject.properties) {\n    columns.push(i);\n  }\n\n  var editType = function editType(index) {\n    var a;\n\n    if (schemaAsObject.properties[index].enum != null) {\n      a = /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        options: schemaAsObject.properties[index].enum,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }));\n    } else if (schemaAsObject.properties[index].type === \"boolean\") {\n      a = /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return a;\n  };\n\n  var ColumnName = function ColumnName(_ref2) {\n    var item = _ref2.item;\n    return /*#__PURE__*/React.createElement(\"th\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 36\n      }\n    }, item);\n  };\n\n  var ColumnValues = function ColumnValues(_ref3) {\n    var item = _ref3.item,\n        columns = _ref3.columns,\n        index = _ref3.index;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, columns.map(function (columnName, index) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }\n      }, \" \", item[\"\".concat(columnName)], \" \");\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: setEditElementID(index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        deleteElement(item.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Delete\")));\n  };\n\n  var ColumnEdit = function ColumnEdit(_ref4) {\n    var item = _ref4.item,\n        colums = _ref4.colums,\n        index = _ref4.index;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, columns.map(function (columnName, index) {}), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"Save changes\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"Cancel changes\")));\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, columns.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(ColumnName, {\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 55\n      }\n    });\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, sqlData.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, editElementID === index ? /*#__PURE__*/React.createElement(ColumnValues, {\n      item: item,\n      columns: columns,\n      index: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(ColumnEdit, {\n      item: item,\n      columns: columns,\n      index: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }));\n  }))));\n};\n\nexport default DynamicTable;","map":{"version":3,"sources":["D:/Ty√∂/Vitec/client/src/dynamictable/dynamictable.js"],"names":["React","useState","Fragment","Component","Select","schema","Axios","schemaAsObject","JSON","parse","deleteElement","id","post","template","then","response","alert","data","editElement","DynamicTable","sqlData","columns","editElementID","setEditElementID","i","properties","push","editType","index","a","enum","type","ColumnName","item","ColumnValues","map","columnName","ColumnEdit","colums"],"mappings":"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","sourcesContent":["import React, {useState, Fragment, Component} from \"react\";\r\nimport Select from 'react-select'\r\nimport \"./dynamictable.css\"\r\nimport schema from \"../template\"\r\nimport Axios from 'axios'\r\n\r\nconst schemaAsObject = JSON.parse(schema);\r\n\r\nconst deleteElement = (id) => {\r\n    Axios.post(`http://localhost:3001/deleteelement/${id}`, {template: schemaAsObject}).then((response) => {\r\n        alert(response.data)\r\n    })\r\n}\r\n\r\nconst editElement = (id) => {\r\n\r\n}\r\n\r\nconst DynamicTable = ({sqlData}) => {\r\n\r\n    let columns = []\r\n\r\n    const [editElementID, setEditElementID] = useState(null)\r\n\r\n    for(let i in schemaAsObject.properties){\r\n        columns.push(i)\r\n    }\r\n\r\n    const editType = (index) => { \r\n        \r\n        let a\r\n\r\n        if(schemaAsObject.properties[index].enum != null){\r\n            a =(\r\n                <td>\r\n                    <Select options = {schemaAsObject.properties[index].enum} />\r\n                </td>)\r\n        }else if(schemaAsObject.properties[index].type === \"boolean\"){\r\n            a =(\r\n                <td>\r\n                    <input type=\"checkbox\"/>\r\n                </td>)\r\n        }\r\n        \r\n        return a\r\n    }\r\n\r\n    const ColumnName = ({item}) => <th>{item}</th>\r\n    const ColumnValues = ({item, columns, index}) => (\r\n        <tr>\r\n            {columns.map((columnName, index) => {\r\n                return <td> {item[`${columnName}`]} </td>\r\n            })}\r\n            <td>\r\n                <button onClick={setEditElementID(index)}>Edit</button>\r\n            </td>\r\n            <td>\r\n                <button onClick = {() => {deleteElement(item.id)}}>Delete</button>\r\n            </td>\r\n        </tr>\r\n    )\r\n    const ColumnEdit = ({item, colums, index}) => (\r\n        <tr>\r\n            {columns.map((columnName, index) => {\r\n            })}\r\n            <td>\r\n                <button>Save changes</button>\r\n            </td>\r\n            <td>\r\n                <button>Cancel changes</button>\r\n            </td>\r\n        </tr>\r\n    )\r\n\r\n    return (\r\n        <form>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        {columns.map((item, index) => <ColumnName item = {item}/>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {sqlData.map((item, index) => (\r\n                        <Fragment>\r\n                            {editElementID === index ? \r\n                            <ColumnValues item = {item} columns = {columns} index = {index}/> : \r\n                            <ColumnEdit item = {item} columns = {columns} index = {index}/>}\r\n                        </Fragment>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default DynamicTable;"]},"metadata":{},"sourceType":"module"}